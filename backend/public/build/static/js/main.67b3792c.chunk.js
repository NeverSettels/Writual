(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{235:function(e,t,n){e.exports=n(489)},240:function(e,t,n){},489:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(4),r=n.n(c),l=(n(240),n(241),n(43)),i=n(61),u=n(44),s=n(5),m=n(491),p=n(494),d=n(80),g=n(15),f=n.n(g),h=n(117),E=n(118),y="https://writualapp.herokuapp.com",b=function(){function e(){Object(h.a)(this,e),this.service=f.a.create({baseURL:y,withCredentials:!0})}return Object(E.a)(e,[{key:"signup",value:function(e){return this.service.post("/signup",e)}},{key:"login",value:function(e){return this.service.post("/login",e)}},{key:"logout",value:function(){return this.service.get("/logout")}},{key:"profile",value:function(){return this.service.get("/profile")}}]),e}(),v=n(490),O=n(498);function k(e){var t=e.post,n=e.context,c=Object(a.useState)(t.numBookmarks),r=Object(s.a)(c,2),i=r[0],u=r[1],m=Object(a.useState)(!1),p=Object(s.a)(m,2),d=p[0],g=p[1],h=Object(a.useState)({}),E=Object(s.a)(h,2),y=E[0],k=E[1];function j(){d?(u(function(e){return e-1}),g(!d),f.a.patch("https://writualapp.herokuapp.com/profile/".concat(y._id),{$pull:{bookmarked:t._id}}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})):(u(function(e){return e+1}),g(!d),f.a.patch("https://writualapp.herokuapp.com/profile/".concat(y._id),{$push:{bookmarked:t._id}}).then().catch(function(e){return console.log(e)}))}return Object(a.useEffect)(function(){(new b).profile().then(function(e){var n=e.data.user;if(k(n),n.bookmarked){var a=!1;n.bookmarked.map(function(e){return t._id===e&&(a=!0),""}),g(a)}}).catch(function(e){return console.log(e)})},[]),o.a.createElement("div",{className:"post_container"},o.a.createElement(l.b,{to:"/profile/".concat(t.postedBy._id)},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingLeft:"5px"}},o.a.createElement(v.a,{size:60,src:t.postedBy.profilePic}),o.a.createElement("p",null,o.a.createElement("strong",null,t.postedBy.username)))),o.a.createElement("div",null,o.a.createElement("h2",null,t.title),o.a.createElement("p",null,t.summary),o.a.createElement("div",null,t.categories.map(function(e){return o.a.createElement(O.a,{key:e},e)}))),o.a.createElement("div",null,n.state.isLogged?d?o.a.createElement("p",null,o.a.createElement("img",{onClick:j,src:"/bookmarkFilled.png",alt:"BookMarked"})):o.a.createElement("p",null,o.a.createElement("img",{onClick:j,src:"/bookmarkEmpty.png",alt:"BookMarked"})):"",o.a.createElement("p",null,(f.a.patch("https://writualapp.herokuapp.com/posts/".concat(t._id),{numBookmarks:i}).then().catch(function(e){return console.log(e)}),i)),o.a.createElement(l.b,{to:"/read/".concat(t._id)},o.a.createElement("img",{src:"./book.png",alt:"book"}))))}var j=[{label:"Red",style:"red"},{label:"Orange",style:"orange"},{label:"Yellow",style:"yellow"},{label:"Green",style:"green"},{label:"Blue",style:"blue"},{label:"Indigo",style:"indigo"},{label:"Violet",style:"violet"}],S=[{label:"UL",style:"unordered-list-item"},{label:"1.",style:"ordered-list-item"}],C=[{label:"No Header",style:"unstyled"},{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}],w=["Short Story","Poetry","Haiku","Fanfic","Sonnet","Limerick","Prose","Script","Essay","Speech","Fantasy","Sci-Fi","Western","Romance","Thriller","Mystery","Detective","Dystopia","Horror","Contemporary","Historical","Fiction","Nonfiction","Adventure","Humor","Motivational","Apocalyptic","Post-Apocalyptic","Swashbuckler","Adult","LGBT+","Scientific","Religious","True Crime","POV","Antihero","Tragedy","Comedy "],x=n(35),B=Object(a.createContext)();var T=function(e){var t=Object(a.useState)({user:{},isLogged:!1}),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)(function(){(new b).profile().then(function(e){return r({user:e.data.user,isLogged:!0})}).catch()},[]),o.a.createElement(B.Provider,{value:{state:c,setUser:function(e){r(function(t){return Object(x.a)({},t,{user:e,isLogged:!t.isLogged})})}}},e.children)},L=m.a.Content,I=m.a.Sider;function U(){var e=Object(a.useContext)(B),t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)(function(){f.a.get("https://writualapp.herokuapp.com/posts").then(function(e){var t=e.data;r(function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.posts))})}).catch(function(e){return console.log(e)})},[]),o.a.createElement(m.a,null,o.a.createElement(I,{style:{backgroundColor:"#d1582b",margin:"10vh 0px 0",overflow:"auto",height:"100vh",position:"fixed",left:0}},o.a.createElement("div",{className:"logo"}),o.a.createElement(p.a,{style:{backgroundColor:"#d1582b",color:"#D4dfc2",padding:"15px"},mode:"inline",defaultSelectedKeys:["4"]},o.a.createElement("h2",{style:{color:"#D4dfc2"}},"Categories"),o.a.createElement(p.a.Item,null,o.a.createElement("h2",{className:"nav-text",style:{color:"#D4dfc2"},onClick:function(){f.a.get("https://writualapp.herokuapp.com/posts").then(function(e){var t=e.data;r(function(e){return Object(u.a)(t.posts)})}).catch(function(e){return console.log(e)})}},o.a.createElement("u",null,"All"))),w.map(function(e){return o.a.createElement(p.a.Item,{key:e},o.a.createElement("span",{className:"nav-text",onClick:function(){return function(e){f.a.get("https://writualapp.herokuapp.com/posts/".concat(e)).then(function(e){var t=e.data;r(function(e){return Object(u.a)(t.posts)})}).catch(function(e){return console.log(e)})}(e)}},e))}))),o.a.createElement(m.a,{style:{marginLeft:200}},o.a.createElement(L,{style:{height:"90vh",margin:"10vh 16px 0",overflow:"initial"}},0===c.length?o.a.createElement(d.a,{image:"./writer.png",imageStyle:{height:60},description:o.a.createElement("span",null,"Oops no posts yet, go write some, or come back later!")}):c.map(function(t){return o.a.createElement(k,{key:t._id,post:t,context:e})}))))}function _(e){var t=Object(a.useContext)(B),n=new b;return o.a.createElement("span",{onClick:function(e){n.logout().then(function(e){t.setUser({})}).catch(function(e){console.log(e)})}},"Logout")}var R=n(88),P=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],o=t[1];return[n,function(e){e.persist(),o(function(t){return Object(x.a)({},t,Object(R.a)({},e.target.name,e.target.value))})},function(e,t){console.log(t),o(function(n){return Object(x.a)({},n,Object(R.a)({},e,t))})}]},D=n(496);function F(){var e=P(),t=Object(s.a)(e,2),n=t[0],c=t[1],r=new b,l=Object(a.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(a.useState)(!1),d=Object(s.a)(p,2),g=d[0],f=d[1],h=Object(a.useContext)(B);return o.a.createElement("div",null,o.a.createElement("span",{type:"primary",onClick:function(){m(!0)}},"Login"),o.a.createElement(D.a,{title:"Login",visible:u,onOk:function(){f(!0),r.login(n).then(function(e){console.log(e),h.setUser(e.data.user)}).catch(function(e){console.log(e)}),setTimeout(function(){m(!1),f(!1)},2e3)},confirmLoading:g,onCancel:function(){console.log("Clicked cancel button"),m(!1)}},o.a.createElement("input",{type:"email",name:"email",placeholder:"Enter you email",onChange:function(e){return c(e)}}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Enter you password",onChange:function(e){return c(e)}})))}function N(){var e=P(),t=Object(s.a)(e,2),n=t[0],c=t[1],r=new b,l=Object(a.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(a.useState)(!1),d=Object(s.a)(p,2),g=d[0],f=d[1];return o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){m(!0)}},"Sing Up"),o.a.createElement(D.a,{title:"Sign Up",visible:u,onOk:function(){f({confirmLoading:!0}),r.signup(n).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),setTimeout(function(){m(!1),f(!1)},2e3)},confirmLoading:g,onCancel:function(){console.log("Clicked cancel button"),m(!1)}},o.a.createElement("input",{type:"text",name:"username",placeholder:"Pick a pen name",onChange:function(e){return c(e)}}),o.a.createElement("input",{type:"email",name:"email",placeholder:"Your Email",onChange:function(e){return c(e)}}),o.a.createElement("input",{type:"password",placeholder:"Pick a Password",name:"password",onChange:function(e){return c(e)}})))}function H(e){var t=Object(a.useContext)(B);return o.a.createElement("nav",{className:"nav-bar"},o.a.createElement(l.c,{to:"/"},o.a.createElement("img",{style:{height:"10vh"},src:"/logo.PNG",alt:""})),t.state.user&&t.state.isLogged?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.c,{to:"/profile/".concat(t.state.user._id)},o.a.createElement("span",{style:{textDecoration:"none"}},"Profile")),o.a.createElement(l.c,{to:"/create"},o.a.createElement("span",null,"Create")),o.a.createElement(_,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement(F,null),o.a.createElement(N,null)))}var A=n(12),M={red:{color:"rgba(255, 0, 0, 1.0)"},orange:{color:"rgba(255, 127, 0, 1.0)"},yellow:{color:"rgba(180, 180, 0, 1.0)"},green:{color:"rgba(0, 180, 0, 1.0)"},blue:{color:"rgba(0, 0, 255, 1.0)"},indigo:{color:"rgba(75, 0, 130, 1.0)"},violet:{color:"rgba(127, 0, 255, 1.0)"}},z={root:{fontFamily:"'Georgia', serif",fontSize:14,padding:20,width:"100%",display:"flex",justifyContent:"center"},editor:{borderTop:"1px solid #ddd",cursor:"text",fontSize:16,marginTop:20,minHeight:400,paddingTop:20},controls:{fontFamily:"'Helvetica', sans-serif",fontSize:14,marginBottom:10,userSelect:"none"},styleButton:{color:"#999",cursor:"pointer",marginRight:16,padding:"2px 0"}};var K=function(e){var t;return t=e.active?Object(x.a)({},z.styleButton,{color:"black"}):z.styleButton,o.a.createElement("span",{style:t,onClick:function(t){t.preventDefault(),e.onToggle(e.style)}},e.label)};var J=function(e){return o.a.createElement("select",{value:e.active,onChange:function(t){var n=t.target.value;e.onToggle(n)}},o.a.createElement("option",{value:""},"Header Levels"),e.headerOptions.map(function(e,t){return o.a.createElement("option",{key:t,value:e.style},e.label)}))};function W(e){switch(e.getType()){case"blockquote":return"myBlockquote";default:return null}}var G=function(e){var t=e.editorState,n=e.onToggle,a=t.getSelection(),c=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return o.a.createElement("span",{style:{display:"flex"}},o.a.createElement(J,{headerOptions:C,active:c,onToggle:n}),S.map(function(e){return o.a.createElement(K,{active:e.style===c,label:e.label,onToggle:n,style:e.style,key:e.label,type:e})}))};var Y=function(e){var t;return t=e.active?Object(x.a)({},z.styleButton,M[e.style]):z.styleButton,o.a.createElement("span",{style:t,onMouseDown:function(t){t.preventDefault(),e.onToggle(e.style)}},e.label)},$=function(e){var t=e.editorState.getCurrentInlineStyle();return o.a.createElement("span",{style:z.controls},j.map(function(n){return o.a.createElement(Y,{key:n.label,active:t.has(n.style),label:n.label,onToggle:e.onToggle,style:n.style})}))},q=n(499),V=n(56),X=O.a.CheckableTag;function Q(e){var t=e.categories,n=e.setCategories;return o.a.createElement("div",null,o.a.createElement("h6",{style:{marginRight:8,display:"inline"}},"Categories:"),w.map(function(e){return o.a.createElement(X,{key:e,checked:t.indexOf(e)>-1,onChange:function(a){return function(e,a){var o=a?[].concat(Object(u.a)(t),[e]):t.filter(function(t){return t!==e});console.log("You are interested in: ",o),n(o)}(e,a)}},e)}))}var Z="https://writualapp.herokuapp.com",ee=function(){function e(){Object(h.a)(this,e),this.service=f.a.create({baseURL:Z,withCredentials:!0})}return Object(E.a)(e,[{key:"newPost",value:function(e,t){return this.service.post("/".concat(t),e)}}]),e}();function te(e){var t=P(),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(a.useState)(!1),d=Object(s.a)(p,2),g=d[0],f=d[1],h=Object(a.useState)(!1),E=Object(s.a)(h,2),y=E[0],b=E[1],v=e.contentState,O=e.save,k=e.setContentState,j=e.user,S=e.Histprops,C=e.saveto,w=new ee;return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,{type:"primary",onClick:function(){k(O()),f(!0)}},"posts"===C?o.a.createElement("span",null,"Publish"):o.a.createElement("span",null,"Save Draft")),o.a.createElement(D.a,{title:"Finish Up!",visible:g,onOk:function(){w.newPost(Object(x.a)({},c,{categories:u,content:v,postedBy:j._id}),C).then(function(e){return"draft"===C?o.a.createElement(q.a,{message:"Saved to Drafts",type:"success"}):o.a.createElement(q.a,{message:"Posted",type:"success"})}).catch(function(e){return console.log(e)}),b(!0),setTimeout(function(){f(!1),b(!1),S.props.history.push("/")},3e3)},confirmLoading:y,onCancel:function(){f(!1)}},o.a.createElement("input",{type:"text",name:"title",placeholder:"Add a title",onChange:function(e){return r(e)}}),o.a.createElement("input",{type:"text",name:"summary",placeholder:"Add a short Summary",maxLength:"140",onChange:function(e){return r(e)}}),o.a.createElement("h3",null,"Choose Categories"),o.a.createElement(Q,{categories:u,setCategories:m})))}function ne(e){var t=Object(a.useState)(A.EditorState.createEmpty()),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(""),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(a.useState)({}),d=Object(s.a)(p,2),g=d[0],f=d[1];Object(a.useEffect)(function(){(new b).profile().then(function(e){var t=e.data.user;f(t)}).catch(function(t){return e.props.history.push("/")})},[e.props.history]);var h=o.a.useRef(null),E=function(e){r(e)};return o.a.createElement("div",null,o.a.createElement("div",{style:z.root},o.a.createElement(G,{editorState:c,onToggle:function(e){E(A.RichUtils.toggleBlockType(c,e))}}),o.a.createElement("span",{style:z.styleButton,onClick:function(){E(A.RichUtils.toggleInlineStyle(c,"BOLD"))}},"B"),o.a.createElement("span",{style:z.styleButton,onClick:function(){E(A.RichUtils.toggleInlineStyle(c,"ITALIC"))}},"I"),o.a.createElement("span",{style:z.styleButton,onClick:function(){E(A.RichUtils.toggleInlineStyle(c,"UNDERLINE"))}},"U"),o.a.createElement($,{editorState:c,onToggle:function(e){return function(e){var t=c.getSelection(),n=Object.keys(M).reduce(function(e,n){return A.Modifier.removeInlineStyle(e,t,n)},c.getCurrentContent()),a=A.EditorState.push(c,n,"change-inline-style"),o=c.getCurrentInlineStyle();t.isCollapsed()&&(a=o.reduce(function(e,t){return A.RichUtils.toggleInlineStyle(e,t)},a)),o.has(e)||(a=A.RichUtils.toggleInlineStyle(a,e)),E(a)}(e)}})),o.a.createElement(te,{contentState:u,setContentState:m,save:function(){var e=Object(A.convertToRaw)(c.getCurrentContent());return"".concat(JSON.stringify(e))},user:g,Histprops:e,saveto:"posts"}),o.a.createElement("div",{style:z.editor},o.a.createElement(A.Editor,{customStyleMap:M,ref:h,blockStyleFn:W,editorState:c,onChange:E,handleKeyCommand:function(e,t){var n=A.RichUtils.handleKeyCommand(t,e);return n?(E(n),"handled"):"not-handled"}})))}var ae=m.a.Content;function oe(e){return o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{marginLeft:20,marginTop:"10vh"}},o.a.createElement(ae,{style:{height:"80vh",margin:"24px 16px 0",overflow:"initial"}},o.a.createElement("div",{style:{height:"80vh",padding:24,background:"#fff",textAlign:"center",overflow:"scroll"}},o.a.createElement(ne,{props:e})))))}function ce(e){var t=e.contentState,n=e.save,c=e.setContentState,r=e.post,l=e.setEditorState,i=e.setEdit,m=P(),p=Object(s.a)(m,2),d=p[0],g=p[1],h=Object(a.useState)(Object(u.a)(r.categories)),E=Object(s.a)(h,2),y=E[0],b=E[1],v=Object(a.useState)(!1),O=Object(s.a)(v,2),k=O[0],j=O[1],S=Object(a.useState)(!1),C=Object(s.a)(S,2),w=C[0],B=C[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,{type:"primary",onClick:function(){c(n()),j(!0)}},"Update"),o.a.createElement(D.a,{title:"Finish Up Your Changes!",visible:k,onOk:function(){f.a.patch("https://writualapp.herokuapp.com/posts/".concat(r._id),Object(x.a)({},d,{categories:y,content:t})).then(function(e){var t=e.data;l(function(e){return A.EditorState.createWithContent(Object(A.convertFromRaw)(JSON.parse(t.post.content)))}),i(!1),console.log(e)}).catch(function(e){return console.log(e)}),B(!0),setTimeout(function(){j(!1),B(!1)},3e3)},confirmLoading:w,onCancel:function(){j(!1)}},o.a.createElement("input",{type:"text",name:"title",placeholder:"Change title?",onChange:function(e){return g(e)}}),o.a.createElement("input",{type:"text",name:"summary",placeholder:"Change Summary?",maxLength:"140",onChange:function(e){return g(e)}}),o.a.createElement("h3",null,"Choose Categories"),o.a.createElement(Q,{categories:y,setCategories:b})))}function re(e){var t=e.match,n=e.edit,c=e.setpost,r=e.user,l=e.post,i=e.setEdit,u=t.params,m=Object(a.useState)(A.EditorState.createEmpty()),p=Object(s.a)(m,2),d=p[0],g=p[1],h=Object(a.useState)(""),E=Object(s.a)(h,2),y=E[0],b=E[1];Object(a.useEffect)(function(){f.a.get("https://writualapp.herokuapp.com/post/".concat(u.id)).then(function(e){var t=e.data;c(t.post);var n=Object(A.convertFromRaw)(JSON.parse(t.post.content));g(function(e){return A.EditorState.createWithContent(n)})}).catch(function(e){return console.log(e)})},[u.id,c]);var v=o.a.useRef(null),O=function(e){g(e)};return o.a.createElement(o.a.Fragment,null,n?o.a.createElement("div",null,o.a.createElement("div",{style:z.root},o.a.createElement(G,{editorState:d,onToggle:function(e){O(A.RichUtils.toggleBlockType(d,e))}}),o.a.createElement("span",{style:z.styleButton,onClick:function(){O(A.RichUtils.toggleInlineStyle(d,"BOLD"))}},"B"),o.a.createElement("span",{style:z.styleButton,onClick:function(){O(A.RichUtils.toggleInlineStyle(d,"ITALIC"))}},"I"),o.a.createElement("span",{style:z.styleButton,onClick:function(){O(A.RichUtils.toggleInlineStyle(d,"UNDERLINE"))}},"U"),o.a.createElement($,{editorState:d,onToggle:function(e){return function(e){var t=d.getSelection(),n=Object.keys(M).reduce(function(e,n){return A.Modifier.removeInlineStyle(e,t,n)},d.getCurrentContent()),a=A.EditorState.push(d,n,"change-inline-style"),o=d.getCurrentInlineStyle();t.isCollapsed()&&(a=o.reduce(function(e,t){return A.RichUtils.toggleInlineStyle(e,t)},a)),o.has(e)||(a=A.RichUtils.toggleInlineStyle(a,e)),O(a)}(e)}})),o.a.createElement(ce,{contentState:y,setContentState:b,setEditorState:g,setEdit:i,save:function(){var e=Object(A.convertToRaw)(d.getCurrentContent());return"".concat(JSON.stringify(e))},user:r,Histprops:e,post:l}),o.a.createElement("hr",null)):"",o.a.createElement("div",null,n?o.a.createElement(A.Editor,{customStyleMap:M,ref:v,blockStyleFn:W,editorState:d,onChange:O,handleKeyCommand:function(e,t){var n=A.RichUtils.handleKeyCommand(t,e);return n?(O(n),"handled"):"not-handled"}}):o.a.createElement(A.Editor,{onChange:O,editorState:d,customStyleMap:M,blockStyleFn:W,readOnly:!0})))}var le=n(497),ie=n(493),ue=n(492),se=n(495),me=n(227),pe=n.n(me),de=le.a.TextArea,ge=function(e){var t=e.comments,n=e.post;return Object(a.useEffect)(function(){1===t.length?(console.log("posted"),f.a.post("https://writualapp.herokuapp.com/comments",{content:t,postedOn:n._id}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})):f.a.patch("https://writualapp.herokuapp.com/comments/".concat(n._id),{content:t}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},[t,n,n._id]),o.a.createElement(ie.a,{dataSource:t,header:"".concat(t.length," ").concat(t.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:function(e){return o.a.createElement(ue.a,e)}})},fe=function(e){var t=e.onChange,n=e.onSubmit,a=e.submitting,c=e.value;return o.a.createElement("div",null,o.a.createElement(se.a.Item,null,o.a.createElement(de,{rows:4,onChange:t,value:c})),o.a.createElement(se.a.Item,null,o.a.createElement(V.a,{htmlType:"submit",loading:a,onClick:n,type:"primary"},"Add Comment")))};function he(e){var t=e.post,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],l=c[1],i=Object(a.useState)(!1),m=Object(s.a)(i,2),p=m[0],d=m[1],g=Object(a.useState)(""),h=Object(s.a)(g,2),E=h[0],y=h[1],O=Object(a.useState)({}),k=Object(s.a)(O,2),j=k[0],S=k[1];Object(a.useEffect)(function(){(new b).profile().then(function(e){var t=e.data.user;S(t)}).catch(function(e){return console.log(e)}),t._id&&f.a.get("https://writualapp.herokuapp.com/comments/".concat(t._id)).then(function(e){e.data.comment}).catch(function(e){return console.log(e)})},[t,t._id]);return o.a.createElement("div",null,r.length>0&&o.a.createElement(ge,{comments:r,post:t}),o.a.createElement(ue.a,{avatar:o.a.createElement(v.a,{src:j.profilePic,alt:"Han Solo"}),content:o.a.createElement(fe,{onChange:function(e){y(e.target.value)},onSubmit:function(){E&&(d(!0),setTimeout(function(){d(!1),y(""),l([{author:j.username,avatar:j.profilePic,content:o.a.createElement("p",null,E),datetime:pe()().fromNow()}].concat(Object(u.a)(r)))},1e3))},submitting:p,value:E})}))}var Ee=m.a.Content,ye=m.a.Sider;function be(e){var t=Object(a.useContext)(B),n=e.match,c=Object(a.useState)({}),r=Object(s.a)(c,2),l=r[0],i=r[1],u=Object(a.useState)(!1),p=Object(s.a)(u,2),d=p[0],g=p[1];return o.a.createElement(m.a,null,o.a.createElement(ye,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0,backgroundColor:"#d1582b",color:"#D4dfc2",padding:"15px",marginTop:"10vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center"}},void 0!==l.postedBy?o.a.createElement(v.a,{size:80,src:l.postedBy.profilePic}):"",void 0!==l.postedBy?o.a.createElement("h2",null,l.postedBy.username):"",o.a.createElement("h3",null,"Summary:"),void 0!==l.postedBy?o.a.createElement("p",null,l.summary):"",o.a.createElement("h3",null,"Categories:"),o.a.createElement("div",null,void 0!==l.categories?l.categories.map(function(e){return o.a.createElement(O.a,{key:e},e)}):""),void 0!==l.postedBy?t.state.user._id!==l.postedBy._id||d?"":o.a.createElement(V.a,{onClick:function(){g(!0)}},"edit"):"",d?o.a.createElement(V.a,{type:"danger",onClick:function(){g(!1)}},"Cancel"):""),o.a.createElement(m.a,{style:{marginLeft:200,marginTop:"10vh"}},o.a.createElement(Ee,{style:{height:"100vh",margin:"24px 16px 0",overflow:"initial"}},o.a.createElement("h1",null,l.title),o.a.createElement("div",{style:{height:"80vh",padding:24,background:"#fff",textAlign:"center",overflow:"scroll"}},o.a.createElement(re,{post:l,setpost:i,match:n,setEdit:g,edit:d,user:l.postedBy}))),void 0!==l.postedBy&&t.state.user._id===l.postedBy._id?o.a.createElement(he,{post:l}):""))}function ve(e){var t=e.post,n=Object(a.useState)(!1),c=Object(s.a)(n,2),r=c[0],l=c[1],i=Object(a.useState)(!1),u=Object(s.a)(i,2),m=u[0],p=u[1];return o.a.createElement("div",null,o.a.createElement("img",{onClick:function(){l(!0)},src:"/cancel.png",alt:"X"}),o.a.createElement(D.a,{title:"Delete Post",visible:r,onOk:function(){p({confirmLoading:!0}),f.a.delete("https://writualapp.herokuapp.com/posts/".concat(t._id)).then(function(e){return console.log(e.data)}).catch(function(e){return console.log(e)}),setTimeout(function(){l(!1),p(!1)},2e3)},confirmLoading:m,onCancel:function(){console.log("Clicked cancel button"),l(!1)}},o.a.createElement("h2",null,"Are you Sure you want to delete")))}function Oe(e){var t=e.post,n=e.user,a=e.mine;return o.a.createElement("div",{className:"post_container"},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement(v.a,{size:60,src:n.profilePic}),o.a.createElement("p",null,o.a.createElement("strong",null,n.username))),o.a.createElement("div",null,o.a.createElement("h2",null,t.title),o.a.createElement("p",null,t.summary),t.categories.map(function(e){return o.a.createElement(O.a,{key:e},e)})),o.a.createElement("div",null,a?o.a.createElement(ve,{post:t}):"",o.a.createElement("p",null,t.numBookmarks),o.a.createElement(l.b,{to:"/read/".concat(t._id)}," ",o.a.createElement("img",{style:{height:"34px"},src:"https://image.flaticon.com/icons/svg/864/864702.svg",alt:"book"}))))}function ke(e){var t=e.user,n=e.setUser,c=P(),r=Object(s.a)(c,2),l=r[0],i=r[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),p=m[0],d=m[1],g=Object(a.useState)(!1),h=Object(s.a)(g,2),E=h[0],y=h[1];return o.a.createElement("div",null,o.a.createElement(V.a,{onClick:function(){d(!0)}},"Edit Profile"),o.a.createElement(D.a,{title:"Edit",visible:p,onOk:function(){y({confirmLoading:!0}),console.log(l),f.a.patch("https://writualapp.herokuapp.com/profile/".concat(t._id),l).then(function(e){return n(e.data.post)}).catch(function(e){return console.log(e)}),setTimeout(function(){d(!1),y(!1)},2e3),console.log(t)},confirmLoading:E,onCancel:function(){console.log("Clicked cancel button"),d(!1)}},o.a.createElement("input",{type:"text",name:"username",placeholder:"Change your pen name",onChange:function(e){return i(e)}}),o.a.createElement("input",{type:"email",name:"email",placeholder:"Update email",onChange:function(e){return i(e)}}),o.a.createElement("input",{type:"text",placeholder:"Update your bio",name:"bio",onChange:function(e){return i(e)}})))}var je=m.a.Content,Se=m.a.Sider;function Ce(e){var t=e.match,n=Object(a.useContext)(B),c=Object(a.useState)([]),r=Object(s.a)(c,2),l=r[0],i=r[1],u=Object(a.useState)({}),g=Object(s.a)(u,2),h=g[0],E=g[1],y=Object(a.useState)([]),b=Object(s.a)(y,2),O=b[0],k=b[1],j=Object(a.useState)(!0),S=Object(s.a)(j,2),C=S[0],w=S[1],x=Object(a.useState)("all"),T=Object(s.a)(x,2),L=T[0],I=T[1],U=Object(a.useState)(!1),_=Object(s.a)(U,2),R=_[0],P=_[1];Object(a.useEffect)(function(){f.a.get("https://writualapp.herokuapp.com/profile/".concat(t.params.id)).then(function(e){var t=e.data;E(t.user),i(t.user.posts),k(t.user.bookmarked)}).catch(function(e){return console.log(e)})},[]);return o.a.createElement(m.a,null,o.a.createElement(Se,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0,backgroundColor:"#d1582b",color:"#D4dfc2",padding:"15px",marginTop:"10vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement(v.a,{size:80,src:h.profilePic}),o.a.createElement("h2",null,h.username),o.a.createElement("h3",null,"Bio:"),o.a.createElement("div",null,o.a.createElement("p",null,h.bio)),n.state.user._id!==h._id||R?"":P(!0),R?o.a.createElement(ke,{user:h,setUser:E}):""),o.a.createElement(m.a,{style:{marginLeft:200}},o.a.createElement(je,{style:{height:"90vh",margin:"10vh 16px 0",overflow:"initial"}},o.a.createElement(p.a,{onClick:function(e){I(e.key),w(function(e){return!e})},selectedKeys:[L],mode:"horizontal"},o.a.createElement(p.a.Item,{key:"all"},"My Posts"),o.a.createElement(p.a.Item,{key:"bookmarked"},"Bookmarked")),0===l.length&&C?o.a.createElement(d.a,{image:"https://image.flaticon.com/icons/svg/1995/1995562.svg",imageStyle:{height:60},description:o.a.createElement("span",null,"Oops no posts yet, go write some!")}):"",0!==O.length||C?"":o.a.createElement(d.a,{image:"https://image.flaticon.com/icons/svg/864/864702.svg",imageStyle:{height:60},description:o.a.createElement("span",null,"Nothing Bookmarked yet, go read something!")}),C?l.map(function(e){return o.a.createElement(Oe,{key:e._id,post:e,user:h,mine:R})}):O.map(function(e){return o.a.createElement(Oe,{key:e._id,post:e,user:h,mine:!1})}))))}var we=function(){return o.a.createElement(l.a,null,o.a.createElement(H,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:U}),o.a.createElement(i.a,{exact:!0,path:"/create",component:oe}),o.a.createElement(i.a,{exact:!0,path:"/profile/:id",component:Ce}),o.a.createElement(i.a,{exact:!0,path:"/read/:id",component:be})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(T,null,o.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[235,1,2]]]);
//# sourceMappingURL=main.67b3792c.chunk.js.map